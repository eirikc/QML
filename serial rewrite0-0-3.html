<!doctype html>
<!--This is an HTML5 document-->
<html lang="en">

<head>

    <meta charset="utf-8">
    <title>Quick Masterloop</title>
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>

    <div style="text-align:center; margin:10px 5px auto;">

        <label for="sn_id"></label>
        <input type="text" placeholder="Serial number" id="sn_id" maxlength="8" size="10">
        <input type="submit" id="link_btn" value="Device" onclick="setURL()">
        <input type="submit" id="link_btn2" value="Charger Plots" onclick="chargerPlots()">
        
    </div>


    <iframe id="ml_embed" title="Masterloop page" src="https://portal.masterloop.net/#/devices/listing" frameborder="0"
        style="overflow:hidden;height:100%;width:100%" height="100%" width="100%">
    </iframe>

    <script>
        function setURL() {
            var sn_value = document.getElementById("sn_id").value;
            var ml_url = "https://portal.masterloop.net/#/devices/general/" + sn_value;
            var iframe = document.getElementById("ml_embed");
            document.getElementById("ml_embed").src = ml_url;
        };

        function chargerPlots() {
            var sn_value = document.getElementById("sn_id").value;
            var charger_url = "https://portal.masterloop.net/#/devices/observations/" + sn_value + "/plots?filter=[21,38,46,96,104,109,110,114,120,182,183,184,185,194,195,196,197,198,199]";
            var iframe = document.getElementById("ml_embed");
            document.getElementById("ml_embed").src = charger_url;
        }

        var serial = document.getElementById("sn_id");
        serial.addEventListener("keydown", function (event) {
            if (event.keyCode === 13) {
                setURL(event);
            }
        });
    </script>

</body>

<style>
iframe {
        position:fixed;
        left: 0px;
        background: #007DBD;
    }

    body {
        background-color: #007DBD;
    }

    label {
        color: #ffffff;
    }
</style>

</html>
